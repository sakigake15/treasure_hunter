<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script type="text/javascript" src="js/build/enchant.js"></script>
    <!-- <script type="text/javascript" src="js/build/plugins/ui.enchant.js"></script> -->
    <style type="text/css">
        body {
            margin: 0;
            margin: auto;
            padding: 0;
            background-color: #3c3a3c;
        }

        canvas {
            margin: auto;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>

<body>

    <script>
        enchant();
        // enchant.jsの表示をセンタリング
        var moveStageToCenter = function (core) {
            var stagePos = {
                top: (window.innerHeight - (core.height * core.scale)) / 2,
                left: (window.innerWidth - (core.width * core.scale)) / 2,
            };
            var stage = document.getElementById('enchant-stage');
            stage.style.position = 'absolute';
            stage.style.top = stagePos.top + 'px';
            stage.style.left = stagePos.left + 'px';
            core._pageX = stagePos.left;
            core._pageY = stagePos.top;
        };

        window.onload = function () {


            var game = new Core(640, 1280);

            moveStageToCenter(game);
            game.fps = 15;
            game.count = 0

            game.preload("new_map.png", "icon0.png", "map0.png", "buttons.png", "up_button.png", "down_button.png", "dig_button.png", "honoo_button.png", "yuki_button.png", "above_button.png", "below_button.png", "left_button.png", "right_button.png", "cross.png", "treasure_hunter_bg.jpg", "treasure_hunter_title.png", "ending_bg.png", "jewel.png", "treasure_hunter_main.mp3", "find.mp3", "honoo.mp3", "ice.mp3", "text.mp3", "dig.mp3", "tre_hun_conp.jpg");


            game.onload = function () {
                var backgroundMap1 = new Map(16, 16);
                backgroundMap1.image = game.assets['new_map.png'];
                backgroundMap1.loadData([
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 145, 145, 197, 145, 145, 161, 161, 161, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 197, 197],
                    [197, 197, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 145, 145, 197, 145, 145, 161, 161, 161, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 197, 197],
                    [197, 197, 161, 161, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 145, 145, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 161, 161, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 145, 145, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 161, 161, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 161, 161, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 161, 161, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 161, 161, 197, 145, 145, 197, 197, 161, 161, 197, 197],
                    [197, 197, 145, 145, 161, 161, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 145, 145, 197, 197, 161, 161, 197, 197],
                    [197, 197, 145, 145, 161, 161, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 161, 161, 197, 197, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 161, 161, 197, 197, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 161, 161, 161, 145, 145, 197, 197, 197, 145, 145, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 197, 145, 145, 197, 197],
                    [197, 197, 197, 197, 197, 161, 161, 161, 145, 145, 197, 197, 197, 145, 145, 161, 161, 161, 161, 145, 145, 197, 145, 145, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 197, 145, 145, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 145, 145, 161, 161, 161, 161, 161, 161, 161, 161, 145, 145, 161, 161, 161, 161, 161, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 145, 145, 161, 161, 161, 161, 161, 161, 161, 161, 145, 145, 161, 161, 161, 161, 161, 161, 161, 197, 197],
                    [197, 197, 145, 145, 197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 145, 145, 197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 161, 161, 197, 197, 161, 161, 145, 145, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 161, 161, 197, 197, 161, 161, 145, 145, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 161, 161, 145, 145, 197, 145, 145, 197, 197],
                    [197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 161, 161, 145, 145, 197, 145, 145, 197, 197],
                    [197, 197, 161, 161, 197, 161, 161, 161, 145, 145, 197, 197, 197, 145, 145, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 161, 161, 197, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 161, 161, 161, 145, 145, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 161, 161, 161, 145, 145, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 197, 145, 145, 197, 197, 197, 161, 161, 197, 197],
                    [197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 161, 161, 197, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 161, 161, 197, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 197, 197, 145, 145, 161, 161, 161, 161, 161, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 161, 161, 197, 161, 161, 161, 145, 145, 161, 161, 161, 161, 161, 197, 197, 145, 145, 197, 161, 161, 197, 161, 161, 197, 197, 197, 197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 145, 145, 197, 161, 161, 161, 145, 145, 161, 161, 161, 161, 161, 197, 197, 145, 145, 197, 161, 161, 197, 161, 161, 197, 197, 197, 197, 197, 161, 161, 197, 197, 161, 161, 161, 161, 197, 197],
                    [197, 197, 145, 145, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 197, 145, 145, 197, 145, 145, 197, 197, 197, 197, 197, 161, 161, 161, 161, 161, 161, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 145, 145, 197, 197, 197, 197, 197, 145, 145, 197, 145, 145, 197, 197, 197, 197, 197, 161, 161, 161, 161, 161, 161, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 197, 197, 197, 197, 197, 197, 197, 197, 197, 161, 161, 161, 161, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197],
                    [197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197]
                ], [
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
                ]);
                backgroundMap1.collisionData = [
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
                ];
                var backgroundMap2 = new Map(16, 16);
                backgroundMap2.image = game.assets['new_map.png'];
                backgroundMap2.loadData([
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 145, 145, 161, 161, 161, 161, 133, 145, 145, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 145, 145, 161, 161, 161, 161, 133, 145, 145, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 161, 161, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 133, 145, 145, 133, 161, 161, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 145, 145, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 145, 145, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 145, 145, 133, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 145, 145, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133],
                    [133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 145, 145, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133],
                    [133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 145, 145, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 133, 133, 133, 133, 145, 145, 161, 161, 133, 145, 145, 133, 133, 133, 133, 145, 145, 133, 161, 161, 133, 161, 161, 133, 133, 145, 145, 161, 161, 161, 161, 161, 145, 145, 133, 133],
                    [133, 133, 161, 161, 133, 133, 133, 133, 145, 145, 161, 161, 133, 145, 145, 133, 133, 133, 133, 145, 145, 133, 145, 145, 133, 133, 133, 133, 133, 145, 145, 161, 161, 161, 161, 161, 145, 145, 133, 133],
                    [133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 161, 161, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 161, 161, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 133, 133, 145, 145, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 161, 161, 161, 133, 161, 161, 133, 133, 133, 145, 145, 133, 133, 133, 161, 161, 133, 133, 161, 161, 161, 161, 161, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 161, 161, 161, 161, 161, 133, 161, 161, 161, 161, 133, 161, 161, 133, 133, 133, 161, 161, 133, 133, 161, 161, 161, 161, 161, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 161, 161, 133, 133, 133, 133, 161, 161, 161, 161, 133, 161, 161, 161, 161, 133, 145, 145, 133, 133, 145, 145, 133, 145, 145, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 133, 133, 145, 145, 133, 133, 133, 133, 145, 145, 133, 133, 133, 161, 161, 161, 161, 133, 145, 145, 133, 133, 145, 145, 133, 145, 145, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 145, 145, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 145, 145, 161, 161, 133, 133, 161, 161, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 145, 145, 161, 161, 133, 133, 161, 161, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 145, 145, 133, 133, 133, 161, 161, 133, 133, 161, 161, 133, 133, 133, 133, 161, 161, 145, 145, 161, 161, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 161, 161, 133, 161, 161, 133, 133, 133, 133, 145, 145, 133, 133, 133, 161, 161, 133, 133, 161, 161, 133, 133, 133, 133, 161, 161, 145, 145, 161, 161, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 161, 161, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 161, 161, 133, 133, 161, 161, 161, 161, 161, 161, 161, 161, 145, 145, 161, 161, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 145, 145, 133, 133, 161, 161, 161, 161, 161, 161, 161, 161, 145, 145, 161, 161, 133, 133, 145, 145, 133, 133, 133, 133, 133, 145, 145, 161, 161, 161, 161, 161, 133, 133, 133],
                    [133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 145, 145, 161, 161, 161, 161, 161, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 145, 145, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 145, 145, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 145, 145, 133, 133, 133, 133, 161, 161, 133, 133, 133, 145, 145, 161, 161, 161, 161, 161, 145, 145, 161, 145, 145, 161, 161, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 133, 133, 133, 133, 161, 161, 133, 133, 133, 145, 145, 161, 161, 161, 161, 161, 145, 145, 161, 145, 145, 161, 161, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 161, 161, 133, 133, 133, 133, 161, 161, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133],
                    [133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133, 133]
                ], [
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
                    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
                ]);
                backgroundMap2.collisionData = [
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1],
                    [1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
                ];


                game.addjewel = function (jewel_number, scene, jewel_x = null, jewel_y = null) {
                    var jewel = new Sprite(64, 64)
                    jewel.scaleX = 0.01
                    jewel.scaleY = 0.01
                    jewel.image = game.assets["jewel.png"]
                    if (jewel_x === null) {
                        // console.log("null")
                        jewel.scaleX = 2
                        jewel.scaleY = 2
                        jewel.x = jewel_number * 128 + 20
                        if (jewel_number == 0) {
                            jewel.y = 1082
                        } else if (jewel_number == 2) {
                            jewel.y = 1092
                        } else {
                            jewel.y = 1100
                        }
                        jewel.switch = 0
                    } else {
                        jewel.switch = 1
                        jewel.x = jewel_x
                        jewel.y = jewel_y
                        jewel.scaleX = 0.1
                        jewel.scaleY = 0.1
                    }
                    jewel.list = [86, 68, 29, 42, 30]//ノーマル86,68,29 レア42 激レア30
                    jewel.frame = jewel.list[jewel_number]
                    scene.addChild(jewel);
                    jewel.n = 0
                    jewel.addEventListener("enterframe", function () {
                        if (game.find == 1 && jewel.switch == 1) {
                            jewel.n++
                            if (jewel.scaleX <= 2) {
                                // if (jewel.n % 5 == 0) {
                                jewel.scaleX = jewel.scaleX + 0.1
                                jewel.scaleY = jewel.scaleY + 0.1

                                // }
                            } else {
                                game.find = 0
                                scene.removeChild(slime)
                                game.replaceScene(createGameoverScene());
                            }
                        }

                    })
                }

                function jewel_appearance(scene) {

                    var jewel_list = JSON.parse(localStorage.getItem('jewel_list'))
                    if (jewel_list != null) {
                        for (var jewel_number of jewel_list) {
                            game.addjewel(jewel_number, scene)
                        }
                        game.jewel_length = jewel_list.length
                    }
                }

                // タイトルシーンを作り、返す関数
                var createTitleScene = function () {
                    var scene = new Scene();  // 新しいシーンを作る

                    jewel_appearance(scene)

                    //タイトル画面
                    var bg = new Sprite(1024, 1024)
                    bg.image = game.assets["treasure_hunter_bg.jpg"]
                    bg.scaleY = 1;
                    bg.y = 0
                    scene.addChild(bg);

                    //ゲーム画面、終了画面
                    var bg2 = new Sprite(401, 118)
                    bg2.image = game.assets["treasure_hunter_title.png"]
                    bg2.scaleX = 1.5
                    bg2.scaleY = 1.5
                    bg2.x = 100
                    bg2.y = 200
                    scene.addChild(bg2);

                    //タイトルのラベル
                    var label = new Label("");
                    label.font = "55px 'Press Start 2P'"
                    label.color = "white"
                    label.text = "TAP TO START";
                    label.x = 180
                    label.y = 700
                    scene.addChild(label)


                    scene.addEventListener(Event.TOUCH_START, function (e) {
                        // シーンにタッチイベントを設定
                        //現在表示しているシーンをゲームシーンに置き換えます
                        game.replaceScene(explanationScene());
                        // game.replaceScene(createGameoverScene());
                    });
                    // この関数内で作ったシーンを呼び出し元に返します(return)
                    return scene;
                };
                var explanationScene = function () {
                    var scene = new Scene();  // 新しいシーンを作る

                    // jewel_appearance(scene)
                    //タイトルのラベル
                    var label = new Label("");
                    label.font = "45px impacto,impact"
                    label.color = "white"
                    label.text = "";
                    label.x = 50
                    label.width = 540
                    label.y = 50
                    scene.addChild(label)
                    var text = "You are a treasure hunter!<br>Find the five different gems<br>in the intricate dungeon!<br>You can go up and down<br>through the holes!<br>Use snowstorm to know the <br>distance to the gems!<br>Use the flame to narrow downthe area where the gems are located!<br>The wand can warp!<br>君はトレジャーハンターだ！入り組んだダンジョンの中から五種類の宝石を探し出そう！穴の開いているところは上に行ったり下に行ったりできるよ！吹雪を使うと宝石までの距離がわかるよ！火炎を使うと宝石のある範囲を絞ることができるよ！杖はワープすることができるよ！"
                    var label2 = new Label("");
                    label2.font = "60px impact"
                    label2.color = "white"
                    label2.width = 320
                    label2.x = 180
                    label2.y = 1100
                    scene.addChild(label2)

                    var i = 0;

                    var bgm_t = game.assets['text.mp3']
                    var bgm_m = game.assets['treasure_hunter_main.mp3']
                    scene.addEventListener("enterframe", function () {
                        bgm_t.play()
                        bgm_t.src.loop = true;
                        label.text = text.substring(0, i)
                        i++
                        if (text.length + 10 < i) {
                            label2.text = "TAP TO START";
                            bgm_t.stop()
                        }

                    })

                    scene.addEventListener(Event.TOUCH_START, function (e) {
                        // bgm_m.stop()
                        bgm_t.stop()
                        // シーンにタッチイベントを設定
                        //現在表示しているシーンをゲームシーンに置き換えます
                        game.replaceScene(createGameScene());
                        // game.replaceScene(createGameoverScene());
                        game.load('treasure_hunter_main.mp3', function () {
                            bgm_m.play()
                            bgm_m.src.loop = true;
                        });
                    });
                    // この関数内で作ったシーンを呼び出し元に返します(return)
                    return scene;
                };

                // ゲームシーンを作り、返す関数
                var createGameScene = function () {

                    var scene = new Scene();        // 新しいシーンを作る
                    var floor = "1F"
                    var label = new Label(floor);        // 新しいラベル(文字)を作る
                    label.font = "50px 'Press Start 2P'";  // フォントとサイズを指定
                    label.color = "white";          // 文字を白色に
                    label.x = 20;                   // 横位置調整
                    label.y = 670;                   // 縦位置調整
                    scene.addChild(label);          // シーンにラベルに追加
                    game.count = 0;//スコアを初期化
                    // var bgm = game.assets['treasure_hunter_main.mp3'];
                    // bgm.play();
                    // bgm.src.loop = true;
                    // var bgm = game.assets['bgm1.mp3'];
                    // bgm.play();
                    // bgm.src.loop = true;
                    var activeBackground = 1;

                    jewel_appearance(scene)



                    game.keybind(32, "space");
                    game.keybind(65, "a");
                    game.keybind(81, "q");
                    game.keybind(83, "s");
                    game.keybind(87, "w");
                    game.keybind(90, "z");
                    game.keybind(38, "up");
                    game.keybind(40, "down");
                    game.keybind(39, "right");
                    game.keybind(37, "left");

                    var button_z = new Sprite(200, 77);
                    button_z.image = game.assets["up_button.png"];
                    button_z.x = 400;
                    button_z.y = 650;

                    var button_a = new Sprite(200, 77);
                    button_a.image = game.assets["down_button.png"];
                    button_a.x = 400;
                    button_a.y = 750;

                    var button_s = new Sprite(200, 77);
                    button_s.image = game.assets["dig_button.png"];
                    button_s.x = 400;
                    button_s.y = 850;

                    var button_q = new Sprite(77, 77);
                    button_q.image = game.assets["honoo_button.png"];
                    button_q.x = 300;
                    button_q.y = 650;

                    var button_w = new Sprite(77, 77);
                    button_w.image = game.assets["yuki_button.png"];
                    button_w.x = 300;
                    button_w.y = 850;
                    button_w.switch = 0

                    var button_up = new Sprite(250, 248);
                    button_up.image = game.assets["above_button.png"];
                    button_up.x = 70;
                    button_up.y = 580;
                    button_up.scaleX = 0.45
                    button_up.scaleY = 0.45

                    var button_down = new Sprite(250, 248);
                    button_down.image = game.assets["below_button.png"];
                    button_down.x = 70;
                    button_down.y = 750;
                    button_down.scaleX = 0.45
                    button_down.scaleY = 0.45
                    var button_right = new Sprite(250, 248);
                    button_right.image = game.assets["right_button.png"];
                    button_right.x = 195;
                    button_right.y = 665;
                    button_right.scaleX = 0.45
                    button_right.scaleY = 0.45

                    var button_left = new Sprite(250, 248);
                    button_left.image = game.assets["left_button.png"];
                    button_left.x = -55;
                    button_left.y = 665;
                    button_left.scaleX = 0.45
                    button_left.scaleY = 0.45
                    // var button_a = new Sprite(34, 16);
                    // button_a.image = game.assets["buttons.png"];
                    // button_a.frame = 13;
                    // button_a.x = 500;
                    // button_a.y = 870;
                    // button_a.scaleX = 6
                    // button_a.scaleY = 6
                    //  scene.addChild(button_a)



                    slime = new Sprite(16, 16);
                    slime.image = game.assets["new_map.png"];
                    slime.x = 50;
                    slime.y = 50;

                    slime.frame = 20;
                    slime.scaleX = 2;
                    slime.scaleY = 2;
                    slime.shikaku_start = -1000;
                    slime.time = 0;
                    slime.shikaku_switch = 0
                    slime.shikaku_kosa = 0.5

                    cross = new Sprite(32, 32);
                    cross.image = game.assets["cross.png"];
                    cross.x = 520;
                    cross.y = 50;

                    treasure = new Sprite(16, 16);
                    treasure.image = game.assets["map0.png"];
                    treasure.x = Math.floor(Math.random() * 550) + 40
                    treasure.y = Math.floor(Math.random() * 550) + 40
                    put_treasure()
                    treasure.frame = 25;
                    treasure.scaleX = 2;
                    treasure.scaleY = 2;


                    var snow = new Sprite(16, 16);
                    snow.image = game.assets["new_map.png"]
                    snow.frame = 226
                    snow.scaleX = 2
                    snow.scaleY = 2
                    snow.x = 300
                    snow.y = 300

                    var stick = new Sprite(16, 16)
                    stick.image = game.assets["new_map.png"]
                    stick.frame = 24
                    stick.scaleX = 2.5
                    stick.scaleY = 2.5
                    stick.x = 583
                    stick.y = 40
                    stick.rotation = 180

                    game.jewel_number = 0
                    game.jewel_per = [0.25, 0.25, 0.25, 0.15, 0.10]

                    var rectangle = null;


                    scene.addChild(backgroundMap1);
                    // scene.addChild(button_a)
                    scene.addChild(button_z)
                    scene.addChild(button_s)
                    scene.addChild(button_q)
                    scene.addChild(button_w)
                    scene.addChild(button_up)
                    scene.addChild(button_down)
                    scene.addChild(button_right)
                    scene.addChild(button_left)
                    scene.addChild(slime);
                    // scene.addChild(treasure);
                    scene.addChild(stick)



                    slime.count = 0
                    slime.addEventListener("enterframe", function () {
                        if (game.input.up) {
                            up()
                        }
                        if (game.input.down) {
                            down()
                        }

                        if (game.input.right) {//右
                            right()
                        }
                        if (game.input.left) {//左
                            left()
                        }

                        if (game.input.z && !backgroundMap2.hitTest(this.x + 8, this.y + 8) && activeBackground == 1) {
                            change_z()
                        }
                        if (game.input.a && !backgroundMap1.hitTest(this.x + 8, this.y + 8) && activeBackground == 2) {
                            change_a()
                        }
                        if (game.up_touched == 1) {
                            up()
                        }
                        if (game.down_touched == 1) {
                            down()
                        }
                        if (game.right_touched == 1) {
                            right()
                        }
                        if (game.left_touched == 1) {
                            left()
                        }
                        if (game.input.q) {
                            create_fire()
                        }
                        if (game.input.w) {
                            create_snow()
                        }
                        if (game.input.s) {
                            dig_treasure()
                        }
                        if (game.input.space) {
                            scene.addChild(treasure)
                        }

                        if (this.shikaku_start + 100 < this.time) {
                            scene.removeChild(rectangle);
                            this.shikaku_switch = 0
                        } else {
                            this.shikaku_kosa = this.shikaku_kosa - 0.01
                            rectangle.backgroundColor = ' rgba(245, 191, 86, ' + this.shikaku_kosa + ')';

                        }
                        this.time++;

                        var reach = Math.sqrt((this.x - treasure.x) ** 2 + (this.y - treasure.y) ** 2)

                        //杖に当たった時
                        if (this.within(stick, 32)) {
                            if (activeBackground == 1) {
                                change_z()
                            } else if (activeBackground == 2) {
                                change_a()
                            }
                            scene.removeChild(stick)
                            this.x = stick.x
                            this.y = stick.y
                        }
                        var reach = Math.sqrt((slime.x - treasure.x) ** 2 + (slime.y - treasure.y) ** 2)
                        game.count++
                        snow.x = Math.sin(game.count * 0.1) * reach + slime.x;
                        snow.y = Math.cos(game.count * 0.1) * reach + slime.y;
                        if (button_w.start + 100 < game.count && button_w.switch == 1) {
                            scene.removeChild(snow);
                            button_w.switch = 0
                        }
                    });

                    game.addEventListener("enterframe", function () {


                        // if (game.find == 1) {
                        //     game.addjewel(game.jewel_number, scene)
                        // }

                    });

                    //レイヤーを下げる関数
                    function change_z() {
                        scene.removeChild(slime)
                        scene.removeChild(stick)

                        scene.removeChild(backgroundMap1)
                        scene.addChild(backgroundMap2);

                        scene.addChild(slime)
                        scene.addChild(stick)

                        floor = "2F"
                        label.text = floor

                        stick.x = 40
                        stick.y = 583
                        stick.rotation = 0

                        activeBackground = 2;
                        scene.removeChild(button_z)
                        scene.addChild(button_a)
                    }

                    function change_a() {
                        scene.removeChild(slime)
                        scene.removeChild(stick)

                        scene.removeChild(backgroundMap2)
                        scene.addChild(backgroundMap1);

                        scene.addChild(slime)

                        floor = "1F"
                        label.text = floor

                        scene.addChild(stick)
                        stick.x = 583
                        stick.y = 40
                        stick.rotation = 180

                        activeBackground = 1;
                        scene.removeChild(button_a)
                        scene.addChild(button_z)
                    }



                    function up() {
                        slime.frame = 21;
                        if (slime.count == 0) {
                            slime.scaleX = -2
                            slime.count = 1;
                        } else if (slime.count == 1) {
                            slime.scaleX = 2
                            slime.count = 0
                        }
                        if (activeBackground == 1 && !backgroundMap1.hitTest(slime.x + 8, slime.y) || activeBackground == 2 && !backgroundMap2.hitTest(slime.x + 8, slime.y)) {
                            slime.y = slime.y - 10;
                        }
                    }

                    function down() {
                        slime.frame = 20
                        if (slime.count == 0) {
                            slime.scaleX = -2
                            slime.count = 1;
                        } else if (slime.count == 1) {
                            slime.scaleX = 2
                            slime.count = 0
                        }
                        if (activeBackground == 1 && !backgroundMap1.hitTest(slime.x + 8, slime.y + 24) || activeBackground == 2 && !backgroundMap2.hitTest(slime.x + 8, slime.y + 24)) {
                            slime.y = slime.y + 10;
                        }
                    }

                    function right() {
                        slime.scaleX = 2
                        if (slime.count == 0) {
                            slime.frame = 22;
                            slime.count = 1;
                        } else if (slime.count == 1) {
                            slime.frame = 23;
                            slime.count = 0
                        }
                        if (activeBackground == 1 && !backgroundMap1.hitTest(slime.x + 24, slime.y + 16) || activeBackground == 2 && !backgroundMap2.hitTest(slime.x + 24, slime.y + 16)) {
                            slime.x = slime.x + 10;
                        }
                    }

                    function left() {
                        slime.scaleX = -2
                        if (slime.count == 0) {
                            slime.frame = 22;
                            slime.count = 1;
                        } else if (slime.count == 1) {
                            slime.frame = 23;
                            slime.count = 0
                        }
                        if (activeBackground == 1 && !backgroundMap1.hitTest(slime.x, slime.y + 16) || activeBackground == 2 && !backgroundMap2.hitTest(slime.x, slime.y + 16)) {
                            slime.x = slime.x - 10;
                        }
                    }

                    function create_fire() {
                        var bgm_h = game.assets['honoo.mp3']
                        bgm_h.play()
                        if (slime.shikaku_switch == 0) {
                            slime.shikaku_switch = 1
                            slime.shikaku_kosa = 0.5
                            var treasure_position = position(slime, treasure)
                            let shiten_x, shiten_y, width_x, width_y
                            switch (treasure_position) {
                                case "lu":
                                    shiten_x = 0
                                    shiten_y = 0
                                    width_x = slime.x + 8 - 0
                                    width_y = slime.y + 8 - 0
                                    break;
                                case "ru":
                                    shiten_x = slime.x + 8
                                    shiten_y = 0
                                    width_x = 640 - slime.x - 8
                                    width_y = slime.y + 8 - 0
                                    break;
                                case "ld":
                                    shiten_x = 0
                                    shiten_y = slime.y + 8
                                    width_x = slime.x + 8 - 0
                                    width_y = 640 - slime.y - 8
                                    break;
                                case "rd":
                                    shiten_x = slime.x + 8
                                    shiten_y = slime.y + 8
                                    width_x = 640 - slime.x - 8
                                    width_y = 640 - slime.y - 8
                                    break;

                            }
                            rectangle = new Sprite(width_x, width_y);
                            rectangle.x = shiten_x;
                            rectangle.backgroundColor = ' rgba(245, 191, 86, ' + slime.shikaku_kosa + ')';
                            rectangle.y = shiten_y;
                            scene.addChild(rectangle);
                            slime.shikaku_start = slime.time
                        }
                    }
                    function create_snow() {
                        var bgm_y = game.assets['ice.mp3']
                        bgm_y.play()
                        button_w.start = game.count
                        scene.addChild(snow)
                        //  scene.removeChild(button_w)
                        button_w.switch = 1
                    }



                    game.up_touched = 0
                    game.down_touched = 0
                    game.right_touched = 0
                    game.left_touched = 0

                    button_q.addEventListener("touchstart", function () {
                        create_fire()
                    });


                    button_w.addEventListener("touchstart", function () {
                        create_snow()
                    });
                    button_up.addEventListener("touchstart", function () {
                        game.up_touched = 1
                        // up()
                    });
                    button_up.addEventListener("touchend", function () {
                        game.up_touched = 0
                        // up()
                    });

                    button_down.addEventListener("touchstart", function () {
                        game.down_touched = 1
                        // down()
                    });
                    button_down.addEventListener("touchend", function () {
                        game.down_touched = 0
                        // down()
                    });

                    button_right.addEventListener("touchstart", function () {
                        game.right_touched = 1
                        // right()
                    });
                    button_right.addEventListener("touchend", function () {
                        game.right_touched = 0
                        // right()
                    });

                    button_left.addEventListener("touchstart", function () {
                        game.left_touched = 1
                        // left()
                    });
                    button_left.addEventListener("touchend", function () {
                        game.left_touched = 0
                        // left()
                    });

                    //アップボタンが押されたとき
                    button_z.addEventListener("touchstart", function () {
                        if (!backgroundMap2.hitTest(slime.x + 8, slime.y + 8)) {
                            change_z()
                        }
                    })

                    //ダウンボタンが押されたとき
                    button_a.addEventListener("touchstart", function () {
                        if (!backgroundMap1.hitTest(slime.x + 8, slime.y + 8)) {
                            change_a()
                        }
                    });


                    game.find = 0
                    //ディグボタンが押されたとき
                    function dig_treasure() {
                        var bgm_d = game.assets['dig.mp3']
                        bgm_d.play()
                        if (Math.abs(slime.x - treasure.x) <= 24 && Math.abs(slime.y - treasure.y) <= 24 && game.find == 0) {
                            game.find = 1
                            scene.removeChild(cross)
                            scene.addChild(treasure)
                            var x = Math.random()
                            var y = 0
                            for (let i = 0; i < 5; i++) {
                                y += game.jewel_per[i]
                                if (x <= y) {
                                    game.jewel_number = i
                                    break;
                                }
                            }
                            save_jewel(game.jewel_number)
                            game.addjewel(game.jewel_number, scene, treasure.x - 32, treasure.y - 32)

                        } else {
                            cross.x = slime.x - 7
                            cross.y = slime.y
                            scene.addChild(cross)
                        }
                    }

                    //とった宝石をローカルストレージに保存
                    function save_jewel(jewel_number) {
                        var jewel_list = []
                        var jewel_list_item = localStorage.getItem('jewel_list')
                        if (jewel_list_item !== null) {
                            jewel_list = JSON.parse(jewel_list_item)

                        }
                        if (!jewel_list.includes(jewel_number)) {
                            jewel_list.push(jewel_number)
                            localStorage.setItem('jewel_list', JSON.stringify(jewel_list));

                        }
                    }

                    //ディグボタンが押されたとき
                    button_s.addEventListener("touchstart", function () {
                        dig_treasure()
                    })
                    function position(slime, treasure) {
                        var sayu
                        var joge
                        if (slime.x > treasure.x) {
                            sayu = "l"
                        } else {
                            sayu = "r"
                        }
                        if (slime.y > treasure.y) {
                            joge = "u"
                        } else {
                            joge = "d"
                        }
                        return sayu + joge
                    }

                    function put_treasure() {
                        while (Math.abs(treasure.x - treasure.y) > 486) {
                            treasure.x = Math.floor(Math.random() * 550) + 40
                            treasure.y = Math.floor(Math.random() * 550) + 40
                        }
                    }
                    return scene;
                };
                // ゲームオーバーシーンを作り、返す関数
                var createGameoverScene = function () {
                    var scene = new Scene();                // 新しいシーンを作る
                    // 新しいラベル(文字)を作る
                    
                    if (game.jewel_length == 5) {
                        var label2 = new Label("");
                        label2.font = "48px impact"
                        label2.color = "white"
                        label2.text = "YOU GOT ALL THE JEWELS!";
                        label2.x = 55
                        label2.y = 150
                        var bg2 = new Sprite(1024, 780)
                        bg2.image = game.assets["tre_hun_conp.jpg"]
                        scene.addChild(bg2);
                        scene.addChild(label2)
                        //宝石をクリア
                        localStorage.removeItem('jewel_list');
                        game.jewel_length = 0
                    } else {
                        var label = new Label("");
                        label.font = "48px impact"
                        label.color = "white"
                        label.text = "GAME CLEAR!<br>Let's find more<br>jewels!";
                        label.x = 300
                        label.y = 820
                        var bg1 = new Sprite(1024, 1024)
                        bg1.backgroundColor = "rgb(0,200,255)";
                        bg1.image = game.assets["ending_bg.png"]
                        bg1.x = -300
                        scene.addChild(bg1);
                        scene.addChild(label)
                    }

                    jewel_appearance(scene)
                    // シーンの背景色を設定
                    scene.addEventListener(Event.TOUCH_START, function (e) {
                        // シーンにタッチイベントを設定
                        //現在表示しているシーンを外し、直前のシーンを表示します
                        // game.popScene();
                        game.replaceScene(createTitleScene());
                    });
                    // この関数内で作ったシーンを呼び出し元に返します(return)
                    return scene;
                };

                // ゲームのSceneをタイトルシーンに置き換えます
                game.replaceScene(createTitleScene());
            }
            game.start();
        };

        //宿題：効果音、scene追加（テキストをカタカタするやつ）、テキスト（カタカタするやつ）

    </script>
</body>

</html>